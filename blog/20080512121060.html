<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-37528940-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-37528940-3');
</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="stylesheet" type="text/css" href="/css/common.css">
<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      // ページの一番上までスクロールさせます。
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<script type="text/javascript" language="javascript">
    var vc_pid = "886663612";
</script><script type="text/javascript" src="//aml.valuecommerce.com/vcdal.js" async></script>

<title>stat関数 - ファイルの詳細な情報を取得する - Perlゼミ - PerlインストールとPerlプログラミングの基礎を丁寧に解説</title>
<meta name="description" content="ファイルの詳細な情報を取得するにはstat関数を使用します。">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content="stat関数 - ファイルの詳細な情報を取得する - Perlゼミ - PerlインストールとPerlプログラミングの基礎を丁寧に解説" />
<meta name="twitter:description" content="ファイルの詳細な情報を取得するにはstat関数を使用します。" />
<meta name="twitter:image" content="https://perlzemi.com//images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Perlゼミ</a>
  </h1>
  <div class="header_right">
    <a rel="nofollow" href="https://perlri.com/account/create">会員登録</a>
  </div>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <ol class="bread" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/">
        <span itemprop="name">Perl</span></a>
    <meta itemprop="position" content="1" />
  </li>
  &#8250;
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/blog/20161004147558.html">
      <span itemprop="name">標準関数</span></a>
    <meta itemprop="position" content="2" />
  </li>
  &#8250;
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    here
  </li>
</ol>
<h2><a href="/blog/20080512121060.html">stat関数 - ファイルの詳細な情報を取得する</a></h2>
<p>
  ファイルの詳細な情報を取得するには<strong>stat</strong>関数を使用します。
</p>
<div style="width:calc(100% - 30px);margin:0 auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<pre>
my @infos = stat $file;
</pre>
<p>
  以下がstatで取得できる情報です。
</p>
<table>
  <tr>
    <td>
      0  
    </td>
    <td>
      ファイルシステムのデバイス番号
    </td>
  </tr>
  <tr>
    <td>
      1 
    </td>
    <td>
       iノード番号
    </td>
  </tr>
  <tr>
    <td>
      2  
    </td>
    <td>
      ファイルモード
    </td>
  </tr>
  <tr>
    <td>
      3  
    </td>
    <td>
      このファイルへのハードリンク数
    </td>
  </tr>
  <tr>
    <td>
      4  
    </td>
    <td>
      ファイルの所有者のユーザID( 数字 )
    </td>
  </tr>
  <tr>
    <td>
      5  
    </td>
    <td>
      ファイルの所有者のグループID( 数字 )
    </td>
  </tr>
  <tr>
    <td>
      6  
    </td>
    <td>
      デバイス識別子
    </td>
  </tr>
  <tr>
    <td>
      7  
    </td>
    <td>
      ファイルのサイズ( バイト )
    </td>
  </tr>
  <tr>
    <td>
      8  
    </td>
    <td>
      最終アクセスしてからの経過したエポックからの秒数
    </td>
  </tr>
  <tr>
    <td>
      9  
    </td>
    <td>
      最終更新してからの経過したエポックからの秒数
    </td>
  </tr>
  <tr>
    <td>
      10 
    </td>
    <td>
      iノードが変更されてから経過したエポック時からの秒数
    </td>
  </tr>
  <tr>
    <td>
      11 
    </td>
    <td>
      ファイルの読み書きに適切だと考えられるブロックサイズ
    </td>
  </tr>
  <tr>
    <td>
      12 
    </td>
    <td>
      割り当てられている実際のブロック数
    </td>
  </tr>
</table>
<h3>サンプル</h3>
<p>
  stat関数を使ってファイルの詳細な情報を取得するサンプルです。
</p>
<pre>
use strict;
use warnings;

# ファイルの詳細な情報を取得する stat

my $file = 'a.txt';
my @stat_inf = stat $file;

# statの解説の作成
my @stat_exp = ( 
  '0  dev      ファイルシステムのデバイス番号',
  '1  ino      iノード番号',
  '2  mode     ファイルモード',
  '3  nlink    このファイルへのハードリンク数',
  '4  uid      ファイルの所有者のユーザID( 数字 )',
  '5  gid      ファイルの所有者のグループID( 数字 )',
  '6  rdev     デバイス識別子',
  '7  size     ファイルのサイズ( バイト )',
  '8  atime    最終アクセスしてからの経過したエポック時からの秒数',
  '9  mtime    最終更新してからの経過したエポック時からの秒数',
  '10 ctime    iノードが変更されてから経過したエポック時からの秒数',
  '11 blksize  ファイルの読み書きに適切だと考えられるブロックサイズ',
  '12 blocks   割り当てられている実際のブロック数',
);

if (@stat_inf) {
  for my $i (0 .. 12) {
    # statの情報と解説を結びつけて、出力。
    printf("%-15s%s\n", $stat_inf[$i], $stat_exp[$i]);
  }                                              
}
else { print "stat $file は失敗しました。\n" }
</pre>
<h3>簡単な補則</h3>
<ul>
  <li>
     <span style="font-weight:bold;">デバイス番号:</span>ファイルシステムは、デバイス(ハードディスク)に関連づけられて、構築されます。そのハードディスクを識別する番号です( たぶん )。 → <a href="http://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0">ファイルシステム</a>
  </li>
  <li>
     <span style="font-weight:bold;">iノード:</span> Unix系OSにおいて、ファイルを管理するための識別子のようなものです。→ <a href="http://itpro.nikkeibp.co.jp/article/Keyword/20070207/261208/">iノード</a>
  </li>
  <li>
    <span style="font-weight:bold;">ファイルモード:</span> Unixにおける<a href="http://www.tech-faq.com/lang/ja/unix-file-permissions.shtml">ファイルタイプ</a>と<a href="/blog/20080822121950.html">パーミッション</a>を表す値です。→ 
  </li>
  <li>
     <span style="font-weight:bold;">ハードリンク:</span> Unix系のOSでは、ファイルに別名をつけることができます。ハードリンク数とは、このファイルを指す別名の総数のことです。→ <a href="http://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%BC%E3%83%89%E3%83%AA%E3%83%B3%E3%82%AF">ハードリンク</a>
  </li>
</ul>

  </div>
  <div class="bottom">
    <div class="perlclub_register">
  <a rel="nofollow" href="https://perlri.com/account/create">無料の会員登録で<br>書籍サンプル<br>プレゼントキャンペーン<br>実施中</a>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div class="side_list">
  <div class="side_list_title">
    Perlテキスト処理のエッセンス
  </div>
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
          <a rel="nofollow"target="_blank" href="https://perlri.com/book/perl_text_essense"><img src="https://perlri.com/images/book/perl_text_essence/perl_text_essence.jpg"></a>
        </div>
        <div class="side_list_description">
          <div >初級者向け・テキスト処理と正規表現の基本をマスター</div>
        </div>
      </li>
    </ul>
  </div>
</div>

<div class="side_list">
  <div class="side_list_title">
    業務に役立つPerl
  </div>
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
          <a  rel="nofollow" target="_blank" href="https://perlzemi.com/blog/20120326133275.html"><img src="https://images-na.ssl-images-amazon.com/images/I/51d4T7m8NzL._SX347_BO1,204,203,200_.jpg"></a>
        </div>
        <div class="side_list_description">
          実務者向け・ログ解析など日本語を含むテキスト処理の実践!
        </div>
      </li>
    </ul>
  </div>
</div>

<div class="side_list">
  <div class="side_list_title">
    Perlクラブ
  </div>
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
          <a rel="nofollow" target="_blank" href="http://www.perlri.com/"><img style="width:170px" src="https://perlri.com/images/perl_club_logo.png"></a>
        </div>
        <div class="side_list_description">
          ゆとりある<br>エンジニアライフを創造中<br>Perlクラブ
        </div>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="http://www.perlri.com">
    ゆとりある<br>エンジニアライフを創造中<br>Perlクラブ
  </a>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
      </div>
    </div>
  </body>
</html>
