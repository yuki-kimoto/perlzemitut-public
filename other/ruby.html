<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-37528940-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-37528940-3');
</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="stylesheet" type="text/css" href="/css/common.css">
<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      // ページの一番上までスクロールさせます。
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<title>PerlユーザーがRubyユーザーに伝えたいこと ～ PerlとRubyの比較を通して - Perl入門ゼミ</title>
<meta name="description" content="Perlユーザーとして、PerlとRubyを比較を通して、Rubyユーザーに伝えたいことを実名で書きます。匿名でPerlに対して書かれたネガティブな信頼性の低い記事がネット上に、あふれているからです。">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content="PerlユーザーがRubyユーザーに伝えたいこと ～ PerlとRubyの比較を通して - Perl入門ゼミ" />
<meta name="twitter:description" content="Perlユーザーとして、PerlとRubyを比較を通して、Rubyユーザーに伝えたいことを実名で書きます。匿名でPerlに対して書かれたネガティブな信頼性の低い記事がネット上に、あふれているからです。" />
<meta name="twitter:image" content="https://tutorial.perlzemi.com/images/perlzemi-twitter-card.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>
  <a href="/"><img src="/images/logo.png"><span style="font-size:105%">Perl</span>入門ゼミ</a>
</h1>
<div class="header-description">
  テキスト処理、Linuxサーバー管理、Web開発ならPerl
</div>
<div class="header-otoiawase">
  <a rel="nofollow" href="/list.html" style="padding-right:3px;">新着情報</a>
  <a rel="nofollow" href="https://twitter.com/perlzemi" title="Twitter" style="padding-right:3px;"><img style="width:37px" src="/images/Twitter_Social_Icon_Square_Color.png"></a>
  <a rel="nofollow" href="/mail.html" title="お問い合わせ"><img style="width:37px" src="/images/mail.png"></a>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- entry-top -->

  </div>
  <div class="middle">
    <h2><a href="/other/ruby.html">PerlユーザーがRubyユーザーに伝えたいこと ～ PerlとRubyの比較を通して</a></h2>
<p>
  Perlユーザーとして、PerlとRubyを比較を通して、Rubyユーザーに伝えたいことを実名で書きます。匿名でPerlに対して書かれたネガティブな信頼性の低い記事がネット上に、あふれているからです。
</p>
<h2>「RubyからPerlへ」という記事でPerlの価値を落とさないで</h2>
<p>
  Rubyの公式ドキュメントには、「間違いなく複雑」というPerlに対する誤解を招くネガティブなメッセージが含まれています。
</p>
<blockquote>
<p>
  Perlはすばらしい言語です。ドキュメントもすばらしいし、Perlコミュニティもすばらしいコミュニティです。 しかし、<b>言語はかなり大きく、間違いなく複雑</b>です。
</p>
<p>
  <a href="https://www.ruby-lang.org/ja/documentation/ruby-from-other-languages/to-ruby-from-perl/">RubyからPerlへ</a>
</p>
</blockquote>
<p>
  Rubyの実装には、複雑さが少なく、Perlには多いような印象を、初見のユーザーに対して与えています。
</p>
<p>
  Rubyの言語実装は小さく、Perlは大きいような印象を与えています。
</p>
<h3>Rubyの実装の複雑さ</h3>
<p>
  ひとつの例として、PerlとRubyのGCの実装について考えてみましょう。
</p>
<p>
  Perlは、<b>リファレンスカウントGC</b>と呼ばれるGCの実装を持っており、Rubyは、<b>世代別GC</b>というGCの実装を持っています。
</p>
<p>
  さて、リファレンスカウントGCと世代別GCは、どちらの実装が複雑でしょうか。
</p>
<p>
  一般的に理解されていることを、土台にすれば<b>世代別GCのほうが、実装が複雑</b>です。
</p>
<p>
  リファレンスカウントGCのほうが、シンプルなのです。
</p>
<p>
  このような一つの面を取り上げてみても、Rubyの公式ドキュメントが、Perlを複雑と一方的に語っているのは、不公平といえるでしょう。
</p>
<p>
  Rubyのドキュメントは、Rubyが、複雑さの側面を持っているのに、まるでPerlだけが、複雑であるかの印象を与えています。
</p>
<h3>Rubyの言語の大きさ</h3>
<p>
  Rubyは、バージョンを追うごとに、新機能が追加され続けてきました。Rubyは、言語機能が大きくなり続けています。
</p>
<ul>
  <li><a href="https://magazine.rubyist.net/articles/0041/0041-200Special-note.html">Ruby 2.0 新機能</a></li>
  <li><a href="https://techracho.bpsinc.jp/baba/2013_12_26/15026">Ruby 2.1 新機能</a></li>
  <li><a href="https://allabout.co.jp/gm/gc/452102/">Ruby 2.2 新機能</a></li>
  <li><a href="https://qiita.com/gipcompany/items/256a36ac727025f8f525">Ruby 2.3 新機能</a></li>
  <li><a href="https://qiita.com/jnchito/items/9f9d45581816f121af07">Ruby 2.4 新機能</a></li>
  <li><a href="https://qiita.com/jnchito/items/f182b6f0093a6a3701a1">Ruby 2.5 新機能</a></li>
  <li><a href="https://qiita.com/jnchito/items/ce11cb7fccdf4b66af24">Ruby 2.6 新機能</a></li>
  <li><a href="https://qiita.com/hanachin_/items/1aa1ba38a87dee91aed6">Ruby 2.7 新機能</a></li>
</ul>
<p>
  一方Perlは、2002年Perl 5.8の時代に、言語機能をたくさん追加していく方針を転換しました。「もし、必要な機能があれば、モジュール(ライブラリ)において実装する」そういう方針への転換です。
</p>
<p>
  Rubyのドキュメントは、Perlについて、まったく反対のことを語っています。
</p>
<p>
  Perlは大きくなる速度をゆっくりさせたのに対して、Rubyは、言語の大きさを着実に増しているのです。
</p>
<p>
  言語の大きさに関して、Rubyの公式ドキュメントは、Perlに関する正しい事実をユーザーへ伝えていません。
</p>
<h2>CSVを処理するRubyとPerlのソースコード</h2>
<p>
  「Perlの文法はクズのようだ」
</p>
<p>
  Rubyユーザーの皆様は、そう思っておられませんか。
</p>
<p>
  では、実際に、Perlの文字列処理でCSVを処理するコードを、実際に見てみませんか?
</p>
<h3>Perlで標準入力から受け取ったCSVデータを、入力して、出力するサンプル</h3>
<p>
  ファイルあるいは、標準入力から受け取ったCSVデータを、入力して、出力するサンプルです。Windowsで日本語対応。
</p>
<pre>
# Perlで標準入力から受け取ったCSVデータを、入力して、出力するサンプル

use strict;
use warnings;
use utf8;
use Encode 'encode', 'decode';

# コマンドライン引数、あるいは、標準入力から受け取る
while (my $line = &lt;&gt;) {
  # Perlの内部文字列にデコード
  $line = decode('cp932', $line);

  # 改行削除
  chomp $line;
  
  # split関数で分割して配列に代入
  my @items = split(/,/, $line);
  
  # join関数でタブ区切りでつなげる
  my $new_line = join("\t", @items);
  
  # 標準入力に出力
  print encode('cp932', $new_line) . "\n";
}
</pre>
<p>
  どうでしょう。世間でPerlが、言われているような、可読性が皆無のクズみたいなコードでしょうか?
</p>
<p>
  それとも「うーん、まぁ、普通」という感じですか?
</p>
<p>
  実行はコマンドライン引数から受け取って
</p>
<pre>
perl script.pl foo.csv
</pre>
<p>
  あるいは、標準入力から受け取って
</p>
<pre>
cat foo.csv | perl script.pl 
</pre>
<p>
  ですね。
</p>
<p>
  「あれ、Perlって、CSV処理するライブラリ、ついてないの。ついてないの小学生までだよねー」
</p>
<p>
  なんて、思いませんでしたか?
</p>
<p>
  <b>Perlの標準ライブラリの設計は、CPANをブートストラップできる小さな構成です。</b>
</p>
<p>
  Perlのコア自体のライブラリを肥大化させず、Perlコア自体の開発者が、メンテナンスするコストを下げています。
</p>
<p>
  Perlでは、CPANから、Text::CSVか、処理速度の速いText::CSV_XSを、ダウンロードすることができます。
</p>
<h3>RubyでCSVデータを、入力して、出力するサンプル</h3>
<p>
  RubyのCSV処理のサンプルはこちら。Rubyには、最初からCSV処理ライブラリが、入っています。便利ですね。
</p>
<pre>
require 'csv'

csv_data = CSV.read('member.csv', headers: true)
puts "start..."

File.open("intro.txt", 'w') do |file|
  csv_data.each do |data|
    intro_msg = "#{data["club"]}クラブ所属の#{data["age"]}歳、#{data["name"]}です。\n"
    puts intro_msg
    file.write(intro_msg)
  end
end

puts "complete! See intro.txt."
</pre>
<p>
  <a href="https://qiita.com/shizuma/items/7719172eb5e8c29a7d6e">Ruby CSVを扱うためのメモ</a>から引用させていただきました。ありがとうございます。
</p>
<p>
  さて、PerlとRuby比べていかがですか?
</p>
<p>
  Rubyの方が、10倍、きれいに楽しく書けますか?
</p>
<p>
  それとも、まぁ、どっちもどっちでしょうか?
</p>
<h2>Ruby開発者からのPerlへの悪口はストップ</h2>
<p>
  Rubyの作者のまつもとゆきひろ氏は、Perlのコアのコードを見て<b>「Perlは私が見たソースコードの中で最悪のソースコードです。」</b>と申しました。
</p>
<p>
  また、PHPでは、プログラムはきれいに書けないとか、Javaではきれいに書けないとか、申しておりました。
</p>
<p>
  Rubyのコミッター様のおひとりは、Perlに対して、PHPに対しても、Javaに対しても、C言語に対しても、攻撃を繰り広げておりました。
</p>
<p>
  この方は「俺は、Rubyに対する批判もしているからOK」みたいな態度をとっておられますが、さて、いったいこれは、どうなのでしょうか。
</p>
<p>
  読者の皆様は、Rubyは、過去に、全方位で、ネガティブキャンペーンを行っていたということを、知っておいてください。
</p>
<h2>RubyとPerlのWebフレームワークの比較</h2>
<p>
  「Perlには代表的なWebフレームワークないしね」
</p>
<p>
  そんな会話がRubyコミュニティで話されていませんか?
</p>
<p>
  Rubyには「Ruby on Rails」と「Sinatra」という代表的なフレームワークがありますが、Perlには、何があるでしょう。
</p>
<p>
  Rubyユーザーの皆様に知っていただくために、PerlのWebフレームワークをご紹介します。(50音順)
</p>
<ul>
  <li><a href="https://github.com/akimacho/wiki/wiki/Amon2">Amon2</a></li>
  <li><a href="https://codezine.jp/article/detail/4190">Catalyst</a></li>
  <li><a href="https://metacpan.org/pod/Dancer2">Dancer2</a></li>
  <li><a href="https://tutorial.perlzemi.com/blog/20140319139520.html">Mojolicious</a></li>
  <li><a href="https://gihyo.jp/dev/serial/01/perl-hackers-hub/000101">Plack/PSGI</a></li>
</ul>
<p>
  Amon2は日本の開発者が開発しているフレームワークです。
</p>
<p>
  ちなみに、わたくし、<a href="https://mojolicious.org/">Mojolicious</a>の開発チームに過去に参加していました。
</p>
<p>
  Mojoliciousのテスティングフレームワークである、Test::Mojoは、わたくしが実装しました。
</p>
<p>
  仲間とともに<a href="https://github.com/yuki-kimoto/mojolicious-guides-japanese/wiki">Mojoliciousの日本語への翻訳</a>もやっております。
</p>
<p>
  Plack/PSGIというのは、RubyのRackに該当するミドルウェアです。
</p>
<p>
  Perl/CGIは古いといわれ続けておりますが、実は、PerlのWebアプリ開発の主流は、CGIではありません。
</p>
<p>
  Webサーバーを立てて、リバースプロキシ構成を使うのが、PerlのWeb開発の主流なのであります。
</p>
<p>
  Rubyユーザーの知らないところで、PerlのWebフレームワークも発展しています。
</p>
<p>
  またわたくしの開発しているCMSツール<a href="https://jp.giblog.net/">Giblog</a>もWebサイト・ブログを作成するのに便利でございます。
</p>
<h2>Rubyのgemに該当するのは、Perlのcpan/cpanm</h2>
<p>
  RubyにはRubyGemsというライブラリをWeb上に配置して、ダウンロードできる仕組みあります。
</p>
<p>
  Perlにも、これに該当するCPANという仕組みがありますが、<b>RubyGemsはPerlのCPANが発明され成功した後に、それを参考に作られたものです。</b>
</p>
<p>
  「RubyGemsすごい」は、「CPANすごい」にそのまま該当します。
</p>
<p>
  Perlには、cpanの動作を軽くして、バージョン管理とCAPNに加えて、Githubからのインストールも可能なcpanmという優れたツールもあります。
</p>
<p>
  RubyでBundlerを使ってバージョン管理できるように
</p>
<p>
  cpanmを使えば、PerlのCPANモジュールのバージョン管理を行うことができます。
</p>
<h2>Rubyユーザーを攻撃するgo、python、JavaScript、Rustユーザー</h2>
<p>
  Webのてっぺんでは、10年前から、ずっと同じことが繰り返されています。
</p>
<p>
  Rubyに愛着があり、Rubyで開発しているユーザーに対して、go、python、JavaScript、Rustユーザーは、ネット上でネガティブキャンペーンを繰り広げております。
</p>
<p>
  「Rubyはチームを幸せにしない。これからは〇〇」という言葉を、残してRubyを去っていきます。
</p>
<p>
  Rubyで作った収益がでているサービスを、自分たちの言語で、リプレースしようと、狙っています。
</p>
<p>
  かつて、Railsは、WebのてっぺんをRailsへの賛美で埋め尽くしました。今度はPythonがWebと書店のてっぺんを賛美で埋め尽くしております。
</p>
<p>
  Perlゼミは、こういう不公平で、不健全で、不毛な状況を改善したいと思っております。
</p>
<p>
  Rubyユーザーの皆様は、気持ちがわかってきたと思うので、Perlに対して、やってきたことをどうか反省してください。
</p>
<p>
  プログラミング言語のそれぞれのユーザーは、実際は、本当の加害者ではありません。
</p>
<p>
  PerlやRubyを攻撃していたとしても、その人たちは、本当の意味での加害者ではありません。
</p>
<p>
  <b>もっと上流から「権威と一時的な札束」を使って、エンジニアを分断させて、自分たちが独占的な利益を得るために、悪意を流している大元がいます。</b>
</p>

  </div>
  <div class="bottom">
    <!-- bottom -->
<!--
<hr>
<div style="width:90%;max-width:400px;background:#ffcef6;border: 1px solid #ff59e6;border-radius:3px;margin:10px auto;font-size:20px;">
<a rel="nofollow" href="https://perl-entrance-osaka.connpass.com/event/125719/"><img src="https://connpass-tokyo.s3.amazonaws.com/thumbs/c7/d9/c7d929370c08bcb1d0b37cc33f9b6b79.png" width="80px">Perl入学式大阪 大阪府大阪市北区芝田 2019年5月25日(土) 第一回 春季開校<br>Perlプログラミングを0から学ぼう。<br>テキスト処理,正規表現,if,for,変数</a>
</div>
-->

<style>
.giblog-banner {
}
.giblog-banner img {
  width:100%;
  max-width:360px;
  margin-right:auto;
  margin-left:auto;
}

</style>

<div style="border-top:1px solid #ddd;margin-top:50px;margin-bottom:40px;"></div>

<div class="giblog-banner">
  <div>
    <a href="https://jp.giblog.net"><img src="/images/giblog-banner.png" alt="Giblog"></a>
  </div>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div class="hatena-module">
  <div class="hatena-moduletitle">
    Perl入門
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20180820153471.html">Perlのインストール</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20091226126425.html">基礎文法最速マスター</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161012147627.html">配列</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161013147635.html">ハッシュ</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161023147731.html">条件分岐</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20170521149524.html">繰り返し処理</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161003147558.html">文字列</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20100827127859.html">正規表現</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20100930127859.html">リファレンスと多次元データ構造</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20101130129876.html">サブルーチン</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20110212130370.html">ファイル入出力</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161107147852.html">変数</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    Perl辞典
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20161004147558.html">標準関数</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161022147731.html">構文・文法</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161005147566.html">演算子</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20091116124667.html">モジュール</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161102147817.html">特殊変数</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    Perl中級編
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20100411127089.html">例外処理</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20080108132865.html">コマンドライン引数</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20100302126967.html">デバッガ</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161126148016.html">ファイル・ディレクトリ操作</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20091120124667.html">現代的な記述方法</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20130305136248.html">オブジェクト指向</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20110128130016.html">スコープ</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20091105124627.html">日付と時刻</a>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20161026147748.html">数値計算</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    Web開発
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20140319139520.html">Mojolicious入門</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    Perl発展編
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20080229120427.html">Perl発展編</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    サイト情報
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20170917151092.html">サイト情報</a>
      </li>
    </ul>
  </div>
</div>
<div class="hatena-module">
  <div class="hatena-moduletitle">
    Perlの書籍
  </div>
  <div class="hatena-modulebody">
    <ul>
      <li>
        <a rel="nofollow" href="/blog/20120326133275.html"><img src="https://images-fe.ssl-images-amazon.com/images/I/51d4T7m8NzL._SL160_.jpg"></a><br>
        <span style="color:green">ログ解析など日本語を含むテキスト処理の実践ならこれ!</span>
      </li>
      <li>
        <a rel="nofollow" href="/blog/20180724153238.html"><img src="https://pbs.twimg.com/media/Di0q6UgUwAAXV7F.jpg" style="width:80%;max-width:130px;"></a><br>
        <span style="color:green">雅ちゃんが大学生クロウにPerlを学ぶ物語</span>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>
      <div class="footer">
        <style>
.what-is-perl {
  width:95%;
  margin: 20px auto;
}
.what-is-perl b {
  padding-left:3px;
  padding-right:3px;
  font-size:103%;
}
.what-is-perl ul {
}
.what-is-perl li {
  list-style:none;
}
.what-is-perl img {
  width:100%;
  max-width:110px;
}

</style>

<div class="what-is-perl">
  <div>
    <img src="/images/perl-onion-logo.png">
  </div>
  <ul>
    <li><b>Perl</b>は、<b>テキスト処理</b>の記述性とパフォーマンスに優れ、<b>正規表現</b>が言語に組み込まれているプログラミング言語です。</li>
    <li><b>Linuxサーバー</b>での<b>フィルタリングプログラム</b>、複数行の文字列を処理、ファイル内容の検索・置換など。<b>Mojolicious</b>を使った<b>Web開発</b>が便利。</li>
    <li>Perlは、<b>git</b>や<b>openssl</b>など<b>Unix/Linuxミドルウェア</b>の補助ツールとして採用されています</li>
  </ul>
</div>


<!-- footer -->
<a href="https://tutorial.perlzemi.com">Perlゼミ</a> & <a href="https://jp.giblog.net/">Giblog</a>

      </div>
    </div>
  </body>
</html>
